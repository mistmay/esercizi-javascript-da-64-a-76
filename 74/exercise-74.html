<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="author" content="Giuseppe Marchesiello">
  <meta name="description" content="Exercize Html Javascript">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Exercize Html Javascript</title>
</head>

<body>
  <div id="container">
    <h2>Person's Form</h2>
    <form id="person-form">
      <button type="submit">Submit</button>
    </form>
  </div>
</body>

</html>

<script>
  function labelGenerator(labelText) {
    const label = document.createElement('label');
    label.innerText = labelText;
    return label;
  }

  function inputGenerator(inputId, inputType, inputPlaceholder) {
    const input = document.createElement('input');
    input.type = inputType;
    input.id = inputId;
    input.placeholder = inputPlaceholder;
    return input;
  }

  function formGenerator(text, id, type, placeholder) {
    const div = document.createElement('div');
    div.appendChild(labelGenerator(text));
    div.appendChild(inputGenerator(id, type, placeholder));
    return div;
  }

  function submitPersonForm(event) {
    event.preventDefault();
    const firstNameInput = document.getElementById("firstName");
    const lastNameInput = document.getElementById("lastName");
    const ageInput = document.getElementById("age");
    const person = {
      firstName: firstNameInput.value,
      lastName: lastNameInput.value,
      age: ageInput.value,
    };
    console.log(person);
  }

  function initForm() {
    const form = document.getElementById('person-form');
    const firstName = formGenerator('First Name:', 'firstName', 'text', 'Mario');
    const lastName = formGenerator('Last Name:', 'lastName', 'text', 'Rossi');
    const age = formGenerator('Age:', 'age', 'number', '25');
    form.prepend(age);
    form.prepend(lastName);
    form.prepend(firstName);
    document.querySelector('button').addEventListener('click', submitPersonForm);
  }
  window.addEventListener("DOMContentLoaded", initForm);
</script>